# BASIC tmux key
# - Ctrl+b " - split pane horizontally.
# - Ctrl+b % - split pane vertically.
# - Ctrl+b arrow key - switch pane.
# - Hold Ctrl+b, don't release it and hold one of the arrow keys - resize pane.
# - Ctrl+b c - (c)reate a new window.
# - Ctrl+b n - move to the (n)ext window.
# - Ctrl+b p - move to the (p)revious window."

set -g default-terminal "tmux-256color"
set -s escape-time 0

# remap prefix from 'C-b' to 'C-a'
# unbind C-b
#set-option -g prefix C-a
#bind-key C-a send-prefix

# resize pane using ctrl+shift+arrow
bind-key -n C-S-Up resize-pane -U 15
bind-key -n C-S-Down resize-pane -D 15
bind-key -n C-S-Left resize-pane -L 25
bind-key -n C-S-Right resize-pane -R 25

# enable home & end button
bind -n End send-key C-e
bind -n Home send-key C-a

# cycle through each layout using prefix(ctrl+b) then space key (repeat space key to your desire layout)
bind-key -r Space next-layout

# switch pane using alt+shift+arrow
bind -n M-S-Left select-pane -L
bind -n M-S-Right select-pane -R
bind -n M-S-Up select-pane -U
bind -n M-S-Down select-pane -D

#bind-key -n S-Left select-pane -L
#bind-key -n S-Right select-pane -R
#bind-key -n S-Up select-pane -U
#bind-key -n S-Down select-pane -D

bind-key -n C-x setw synchronize-panes on
bind-key -n M-x setw synchronize-panes off

# create or split screen should inherit current path from active pane
bind c new-window -c "#{pane_current_path}"
bind % split-window -h -c "#{pane_current_path}"
bind '"' split-window -v -c "#{pane_current_path}"

# Ctrl+t to create new window (no prefix needed)
bind-key -n C-t new-window -c "#{pane_current_path}"

# Alt+o to split horizontally and run opencode
bind-key -n M-o split-window -h -c "#{pane_current_path}" "opencode"

# Alt+p to open new window and run opencode
bind-key -n M-p new-window -c "#{pane_current_path}" "opencode"

# Alt+v to split vertically (creates vertical separator)
bind-key -n M-v split-window -h -c "#{pane_current_path}"

# Alt+h to split horizontally (creates horizontal separator)
bind-key -n M-h split-window -v -c "#{pane_current_path}"

# enable mouse
set -g mouse on
#set -g mouse-select-pane on
#set -g mouse-resize-pane on
#set -g mouse-select-window on

# remove tmux's C-Left C-Right handler, so we can use C-Left C-Right to navigate by word
unbind C-Left
unbind C-Right

set-window-option -g xterm-keys on

set-window-option -g mode-keys vi

# switch window using Alt+Shift+[ and Alt+Shift+]
bind -n M-{ select-window -p
bind -n M-\} select-window -n

# STATUS LINE - show window list like tabs
set -g status on
set -g status-position bottom
set -g status-interval 1
set -g status-justify left

# Window list styling
set -g window-status-current-style fg=white,bg=black,bold
set -g window-status-style fg=black,bg=green
set -g window-status-format " #I:#W#F "
set -g window-status-current-format " #I:#W#F "

# Status line layout
set -g status-left-length 20
set -g status-left "#[fg=green,bg=black,bold] #S "
set -g status-right "#[fg=white,bg=black] %H:%M %d-%b-%y "

# Enable window numbers for quick jumping (Ctrl+b 0-9)
set -g base-index 1
set -g renumber-windows on
