# BASIC tmux key bindings
# - Alt+n - create new window (no prefix needed)
# - Alt+o - split horizontally and run opencode (no prefix needed)
# - Alt+p - open new window and run opencode (no prefix needed)
# - Alt+v - split vertically (no prefix needed)
# - Alt+h - split horizontally (no prefix needed)
# - Alt+Shift+arrow - switch pane (non-wrapping)
# - Ctrl+Shift+arrow - resize pane
# - Alt+Shift+[ - select previous window
# - Alt+Shift+] - select next window
# - Ctrl+b s - toggle pane synchronization
# - Ctrl+b Space - cycle through layouts
# - Home/End - send Home/End keys to terminal

set -g default-terminal "tmux-256color"
set -ga terminal-overrides ",xterm-256color:RGB"
set -ga terminal-overrides ",screen-256color:RGB"
set -g escape-time 0

# resize pane using ctrl+shift+arrow
bind-key -n C-S-Up resize-pane -U 15
bind-key -n C-S-Down resize-pane -D 15
bind-key -n C-S-Left resize-pane -L 25
bind-key -n C-S-Right resize-pane -R 25

# enable home & end button
bind -n End send-key C-e
bind -n Home send-key C-a

# cycle through each layout using prefix(ctrl+b) then space key (repeat space key to your desire layout)
bind-key -r Space next-layout

# switch pane using alt+shift+arrow (non-wrapping)
bind -n M-S-Left run-shell "$HOME/.dotfiles/bin/no-wrap-select.sh left"
bind -n M-S-Right run-shell "$HOME/.dotfiles/bin/no-wrap-select.sh right"
bind -n M-S-Up run-shell "$HOME/.dotfiles/bin/no-wrap-select.sh up"
bind -n M-S-Down run-shell "$HOME/.dotfiles/bin/no-wrap-select.sh down"

# Toggle pane synchronization with Ctrl+b then 's'
bind-key s setw synchronize-panes \; display-message "Sync panes: #{?window_synchronize_panes,on,off}"

# Alt+n to create new window (no prefix needed)
bind-key -n M-n new-window -c "#{pane_current_path}"

# Alt+o to split horizontally and run opencode
bind-key -n M-o split-window -h -c "#{pane_current_path}" "zsh -l -c 'source ~/.zshrc; opencode'"

# Alt+p to open new window and run opencode
bind-key -n M-p new-window -c "#{pane_current_path}" "zsh -l -c 'source ~/.zshrc; opencode'"

# Alt+v to split vertically (creates vertical separator)
bind-key -n M-v split-window -h -c "#{pane_current_path}"

# Alt+h to split horizontally (creates horizontal separator)
bind-key -n M-h split-window -v -c "#{pane_current_path}"

# enable mouse
set -g mouse on
#set -g mouse-select-pane on
#set -g mouse-resize-pane on
#set -g mouse-select-window on

# remove tmux's C-Left C-Right handler, so we can use C-Left C-Right to navigate by word
unbind C-Left
unbind C-Right

set-window-option -g xterm-keys on
set-window-option -g mode-keys vi

# switch window using Alt+Shift+[ and Alt+Shift+]
bind -n M-{ select-window -p
bind -n M-\} select-window -n

# ---------------------------------------------------
# UI CUSTOMIZATION

# STATUS LINE - show window list like tabs
set -g status on
set -g status-position bottom
set -g status-interval 1
set -g status-justify left

# Window list styling
set -g window-status-current-style fg=white,bg=black,bold
set -g window-status-style fg=black,bg=green
set -g window-status-format " #I:#W#F "
set -g window-status-current-format " #I:#W#F "

# Status line layout
set -g status-left-length 20
set -g status-left "#[fg=green,bg=black,bold] #S "
set -g status-right "#[fg=white,bg=black] %H:%M %d-%b-%y "

# Enable window numbers for quick jumping (Ctrl+b 0-9)
set -g base-index 1
set -g renumber-windows on

# MAKE ACTIVE PANE MORE VISIBLE
# Add a border around the active pane
set -g pane-border-status top
set -g pane-border-format " #P "

# Style for active pane border - SIMPLE COLORED BORDER
# Using green color for the border (no background)
set -g pane-active-border-style fg=green,bright

# Style for inactive pane borders (invisible)
set -g pane-border-style fg=default,bg=default


